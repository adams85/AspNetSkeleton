@using Karambolo.Common
@using AspNetSkeleton.Service.Host.Core
@using AspNetSkeleton.Service.Contract.DataObjects
@using System.Globalization
@inherits Template<PasswordResetNotificationArgs>

@helper FormatDateTime(DateTime value)
{
    <text>@string.Format(CultureInfo.InvariantCulture, "{0:d MMM yyyy} {0:HH:mm} (GMT)", value)</text>
}

@{
    var url = UriUtils.BuildUrl(new[] { Settings.UIBaseUrl, "Account/SetPassword" }, new { u = Model.UserName, v = Model.VerificationToken });
}

<!doctype html>  
<html lang="en">  
<head>  
  <meta charset="utf-8" />
  <title>Password Reset</title>  
</head>  
<body>
    <h4>[THIS IS AN AUTOMATED MESSAGE - PLEASE DO NOT REPLY DIRECTLY TO THIS EMAIL]</h4>
    <p>
        Dear @(Model.Name ?? Model.UserName),
    </p>
    <p>
        Resetting the password of your account has been requested.
    </p>
    <p>            
        In order to specify a new password, please visit the link below before @FormatDateTime(Model.VerificationTokenExpirationDate)<br/>
        <a href="@url">@url</a>
    </p>
    <p>
        Best regards,<br/>
        <!-- TODO -->
        Support
    </p>
</body>  
</html>
